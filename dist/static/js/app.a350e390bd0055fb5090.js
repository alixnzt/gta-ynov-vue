webpackJsonp([1],{"1/oy":function(e,t){},"7wbk":function(e,t){},"9M+g":function(e,t){},"9PD5":function(e,t){},GfHa:function(e,t){},Id91:function(e,t){},Jmt5:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("7+uW"),o={name:"navBar",methods:{disconect:function(){localStorage.removeItem("jwt"),this.$router.push("/")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-navbar",{attrs:{toggleable:"md",type:"light",variant:"light"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),e._v(" "),a("b-navbar-brand",{attrs:{href:"#"}},[e._v("GTA app")]),e._v(" "),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",[a("router-link",{attrs:{to:"/dashboard"}},[e._v("dashboard")])],1),e._v(" "),a("b-nav-item",[a("router-link",{attrs:{to:"/register"}},[e._v("add user")])],1),e._v(" "),a("b-button",{attrs:{variant:e.danger},on:{click:e.disconect}},[e._v("\n                Logout\n            ")])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(o,n,!1,function(e){a("p+8C")},"data-v-1cd0f06a",null).exports,i=a("e6fC"),l={components:{NavBar:s},name:"App"},u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var d=a("VU/8")(l,u,!1,function(e){a("7wbk")},null,null).exports,p=a("/ocq"),m=a("mvHQ"),c=a.n(m),h={data:function(){return{email:"",password:""}},methods:{handleSubmit:function(e){var t=this;e.preventDefault(),this.password.length>0&&this.$http.post("https://gta-ynov-server.herokuapp.com/login",{email:this.email,password:this.password}).then(function(e){e.data.user.role;if(localStorage.setItem("user",c()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt"))if(t.$emit("loggedIn"),null!=t.$route.params.nextUrl)t.$router.push(t.$route.params.nextUrl);else switch(t.role){case"Director":console.log("Director"),t.$router.push("admindashboard");break;case"HR":console.log("HR"),t.$router.push("admindashboard");break;case"Employe":console.log("Employe"),t.$router.push("employedashboard")}}).catch(function(e){console.error(e.response)})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v("Login")]),e._v(" "),a("b-form",{on:{submit:e.handleSubmit}},[a("b-form-group",{attrs:{id:"EmailInputGrp",label:"Email address : ","label-for":"email"}},[a("b-form-input",{attrs:{id:"emailInput",type:"email",required:"",placeholder:"Enter email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"PasswordInputGrp",label:"Password : ","label-for":"password"}},[a("b-form-input",{attrs:{id:"passwordInput",type:"password",required:"",placeholder:"Enter password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},staticRenderFns:[]},b=a("VU/8")(h,f,!1,null,null,null).exports,v={props:["nextUrl"],data:function(){return{name:"",email:"",password:"",password_confirmation:"",role:null,roles:[{text:"Select One",value:null},"Employe","Director","HR"]}},methods:{handleSubmit:function(e){var t=this;if(e.preventDefault(),!(this.password===this.password_confirmation&&this.password.length>0))return this.password="",this.passwordConfirm="",alert("Passwords do not match");this.$http.post("https://gta-ynov-server.herokuapp.com/register",{name:this.name,email:this.email,password:this.password,role:this.role}).then(function(e){localStorage.setItem("user",c()(e.data.user)),localStorage.setItem("jwt",e.data.token),null!=localStorage.getItem("jwt")&&(t.$emit("loggedIn"),null!=t.$route.params.nextUrl?t.$router.push(t.$route.params.nextUrl):t.$router.push("/"))}).catch(function(e){console.error(e)})}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",[e._v("Register")]),e._v(" "),a("b-form",{on:{submit:e.handleSubmit}},[a("b-form-group",{attrs:{id:"nameInputGrp",label:"Name : ","label-for":"name"}},[a("b-form-input",{attrs:{id:"nameInput",type:"text",required:"",placeholder:"Enter name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"EmailInputGrp",label:"Email address : ","label-for":"email"}},[a("b-form-input",{attrs:{id:"emailInput",type:"email",required:"",placeholder:"Enter email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"PasswordInputGrp",label:"Password : ","label-for":"password"}},[a("b-form-input",{attrs:{id:"passwordInput",type:"password",required:"",placeholder:"Enter password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"PasswordConfirmationInputGrp",label:"PasswordConfirmation : ","label-for":"passwordConfirmation"}},[a("b-form-input",{attrs:{id:"passwordConfirmationInput",type:"password",required:"",placeholder:"Enter password confirmation"},model:{value:e.password_confirmation,callback:function(t){e.password_confirmation=t},expression:"password_confirmation"}})],1),e._v(" "),a("b-form-group",{attrs:{id:"roleInputGrp",label:"Role : ","label-for":"roleInput"}},[a("b-form-select",{attrs:{id:"exampleInput",options:e.roles,required:""},model:{value:e.role,callback:function(t){e.role=t},expression:"role"}})],1),e._v(" "),a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},staticRenderFns:[]},g=a("VU/8")(v,w,!1,null,null,null).exports,_=(a("bUhB"),a("WeTk")),y={components:{NavBar:s,calendar:_.Calendar},data:function(){return{calendarList:[{id:"0",name:"home"},{id:"1",name:"office"}],scheduleList:[{id:"1",calendarId:"1",title:"event 1",category:"time",dueDateClass:"2018-11-22T12:30:00+01:00",start:"2018-11-22T12:30:00+01:00",end:"2018-10-22T13:30:00+01:00"},{id:"2",calendarId:"1",title:"event 2",category:"time",dueDateClass:"",start:"2018-11-23T16:30:00+01:00",end:"2018-10-23T17:30:00+01:00"}],view:"week",taskView:!0,scheduleView:["time"],theme:{"month.dayname.height":"30px","month.dayname.borderLeft":"1px solid #ff0000","month.dayname.textAlign":"center","week.today.color":"#333","week.daygridLeft.width":"100px","week.timegridLeft.width":"100px"},week:{narrowWeekend:!0,showTimezoneCollapseButton:!0,timezonesCollapsed:!1},month:{visibleWeeksCount:6,startDayOfWeek:1},timezones:[{timezoneOffset:60,displayLabel:"GMT+01:00",tooltip:"Paris"}],disableDblClick:!0,isReadOnly:!1,template:{milestone:function(e){return'<span style="color:red;">'+e.title+"</span>"},milestoneTitle:function(){return"Milestone"}},useCreationPopup:!0,useDetailPopup:!0}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav-bar"),e._v(" "),a("h1",[e._v("Employe")]),e._v("\n    This is your dashboard\n    "),a("calendar",{staticStyle:{height:"800px"},attrs:{calendars:e.calendarList,schedules:e.scheduleList,view:e.view,taskView:e.taskView,scheduleView:e.scheduleView,theme:e.theme,week:e.week,month:e.month,timezones:e.timezones,disableDblClick:e.disableDblClick,isReadOnly:e.isReadOnly,template:e.template,useCreationPopup:e.useCreationPopup,useDetailPopup:e.useDetailPopup}}),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var I=a("VU/8")(y,k,!1,function(e){a("9PD5")},"data-v-3afaa03f",null).exports,x={components:{NavBar:s},data:function(){return{}}},$={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("nav-bar"),this._v(" "),t("h1",[this._v("Administrator")]),this._v("\n    This your administrator dashboard\n")],1)},staticRenderFns:[]};var C=a("VU/8")(x,$,!1,function(e){a("uRHS")},"data-v-65c43382",null).exports;r.a.use(p.a);var E=new p.a({mode:"history",routes:[{path:"/",name:"login",component:b,meta:{guest:!0}},{path:"/register",name:"register",component:g,meta:{role:"HR",guest:!0}},{path:"/dashboard",name:"employedashboard",component:I,meta:{requiresAuth:!0}},{path:"/admin",name:"admindashboard",component:C,meta:{requiresAuth:!0,role:"HR"}}]});E.beforeEach(function(e,t,a){if(e.matched.some(function(e){return e.meta.requiresAuth}))if(null==localStorage.getItem("jwt"))a({name:"login",params:{nextUrl:e.fullPath}});else{var r=JSON.parse(localStorage.getItem("user"));e.matched.some(function(e){return e.meta.role})?(r.role,a()):a()}else e.matched.some(function(e){return e.meta.guest})?null==localStorage.getItem("jwt")?a():a({name:"employedashboard"}):a()});var S=E,P=a("mtWM"),R=a.n(P);a("Jmt5"),a("9M+g");r.a.prototype.$http=R.a,r.a.config.productionTip=!1,r.a.use(i.a),new r.a({el:"#app",router:S,components:{App:d},template:"<App/>"})},bUhB:function(e,t){},"p+8C":function(e,t){},uRHS:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a350e390bd0055fb5090.js.map